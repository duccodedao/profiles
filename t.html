<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>United Stables ($U) | Vietnam's Premier AI Stablecoin Layer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root { --gold: linear-gradient(135deg, #FFD700, #B8860B); --vietnam-red: #DA251D; }
        body { font-family: 'Plus Jakarta Sans', sans-serif; background-color: #0a0a0a; color: #fff; overflow-x: hidden; }
        .gold-text { background: var(--gold); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .glass-nav { background: rgba(15, 15, 15, 0.8); backdrop-filter: blur(20px); border-bottom: 1px solid rgba(255,255,255,0.1); }
        .roadmap-card { background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.1); transition: 0.4s; }
        .roadmap-card:hover { border-color: #FFD700; transform: translateY(-10px); }
        
        /* Admin Console Extra */
        #admin-panel { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.95); z-index: 9999; padding: 20px; }
        .user-log-item { border-left: 3px solid #FFD700; background: rgba(255,255,255,0.05); }
        
        /* AI Chat Box */
        #ai-assistant { position: fixed; bottom: 90px; right: 20px; width: 350px; height: 450px; background: #1a1a1a; border-radius: 20px; border: 1px solid #333; display: none; flex-direction: column; z-index: 1000; }
        
        .point-badge { background: var(--gold); color: black; padding: 2px 10px; border-radius: 100px; font-weight: bold; font-size: 0.75rem; }
    </style>
</head>
<body>

    <!-- NAVIGATION -->
    <nav class="fixed top-0 left-0 right-0 w-full z-50 glass-nav">
        <div class="max-w-7xl mx-auto px-6 py-4 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <div class="w-8 h-8 bg-yellow-500 rounded-full flex items-center justify-center font-bold text-black">U</div>
                <span class="font-bold tracking-tighter text-xl">UNITED <span class="text-yellow-500">STABLES</span></span>
            </div>
            
            <div class="hidden lg:flex gap-8 text-sm font-medium items-center">
                <a href="#home" class="hover:text-yellow-500 transition">Trang Ch·ªß</a>
                <a href="#ai-ecosystem" class="hover:text-yellow-500 transition">H·ªá sinh th√°i AI</a>
                <a href="#roadmap" class="hover:text-yellow-500 transition">L·ªô tr√¨nh 2026</a>
                <div class="flex items-center gap-2 bg-white/10 px-3 py-1 rounded-full">
                    <span class="text-xs">S·ªë d∆∞ $HD:</span>
                    <span id="user-hd-points" class="text-yellow-500 font-bold">0</span>
                </div>
            </div>

            <div id="auth-section" class="flex items-center gap-4">
                <button id="login-btn" class="bg-white text-black px-6 py-2 rounded-full text-sm font-bold hover:bg-yellow-500 transition">K·∫øt n·ªëi v√≠</button>
                <div id="user-profile" class="hidden flex items-center gap-3 bg-white/5 p-1 pr-4 rounded-full border border-white/10">
                    <img id="user-photo" class="w-8 h-8 rounded-full">
                    <span id="user-name" class="text-xs font-medium"></span>
                    <button id="logout-btn" class="text-[10px] text-red-500 uppercase font-bold">Tho√°t</button>
                </div>
            </div>
        </div>
    </nav>

    <!-- HERO SECTION -->
    <section id="home" class="relative min-h-screen flex items-center justify-center pt-20 overflow-hidden">
        <div class="absolute inset-0 opacity-30">
            <video autoPlay loop muted playsInline class="w-full h-full object-cover" src="https://www.u.tech/images/main-banner-bg.webm"></video>
        </div>
        
        <div class="relative z-10 text-center px-6">
            <div class="inline-block bg-yellow-500/10 text-yellow-500 px-4 py-1 rounded-full text-xs font-bold mb-6 border border-yellow-500/20">
                üöÄ D·ª∞ √ÅN BLOCKCHAIN MADE IN VIETNAM
            </div>
            <h1 class="text-6xl md:text-8xl font-bold mb-6 tracking-tight" id="cms-hero-title">
                K·ª∑ Nguy√™n <span class="gold-text">AI Stablecoin</span>
            </h1>
            <p class="text-gray-400 text-lg md:text-xl max-w-3xl mx-auto mb-10" id="cms-hero-subtitle">
                United Stables ($U) - L·ªõp thanh kho·∫£n h·ª£p nh·∫•t cho c√°c t√°c v·ª• AI v√† T√†i ch√≠nh phi t·∫≠p trung to√†n c·∫ßu.
            </p>
            <div class="flex flex-wrap justify-center gap-4">
                <button onclick="trackAction('Click Mint')" class="bg-yellow-500 text-black px-10 py-4 rounded-full font-bold text-lg hover:scale-105 transition shadow-[0_0_30px_rgba(234,179,8,0.3)]">
                    ƒê√∫c $U Ngay (+10 $HD)
                </button>
                <button onclick="toggleAI()" class="bg-white/10 backdrop-blur-md border border-white/20 px-10 py-4 rounded-full font-bold text-lg hover:bg-white/20 transition">
                    Tr·ª£ l√Ω AI
                </button>
            </div>
        </div>
    </section>

    <!-- AI ADVANCED FEATURES -->
    <section id="ai-ecosystem" class="py-24 px-6 relative">
        <div class="max-w-7xl mx-auto">
            <h2 class="text-4xl font-bold mb-16 text-center">T√≠ch h·ª£p <span class="gold-text">Tr√≠ Tu·ªá Nh√¢n T·∫°o</span></h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="roadmap-card p-8 rounded-[32px]">
                    <div class="text-4xl mb-6">ü§ñ</div>
                    <h3 class="text-2xl font-bold mb-4">AI Yield Optimizer</h3>
                    <p class="text-gray-400 text-sm leading-relaxed">T·ª± ƒë·ªông h√≥a vi·ªác t·ªëi ∆∞u h√≥a l·ª£i nhu·∫≠n tr√™n c√°c giao th·ª©c DeFi b·∫±ng thu·∫≠t to√°n h·ªçc m√°y (Machine Learning).</p>
                </div>
                <div class="roadmap-card p-8 rounded-[32px]">
                    <div class="text-4xl mb-6">‚ö°</div>
                    <h3 class="text-2xl font-bold mb-4">Auto-Minting API</h3>
                    <p class="text-gray-400 text-sm leading-relaxed">B·ªô API Python/JS cho ph√©p c√°c Agent AI t·ª± ƒë·ªông thanh to√°n v√† chuy·ªÉn ƒë·ªïi ti·ªÅn t·ªá theo th·ªùi gian th·ª±c.</p>
                </div>
                <div class="roadmap-card p-8 rounded-[32px]">
                    <div class="text-4xl mb-6">üõ°Ô∏è</div>
                    <h3 class="text-2xl font-bold mb-4">Risk Monitoring</h3>
                    <p class="text-gray-400 text-sm leading-relaxed">H·ªá th·ªëng gi√°m s√°t r·ªßi ro 24/7 b·∫±ng AI, b·∫£o v·ªá gi√° tr·ªã 1:1 c·ªßa $U tr∆∞·ªõc m·ªçi bi·∫øn ƒë·ªông th·ªã tr∆∞·ªùng.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- ROADMAP 2026 -->
    <section id="roadmap" class="py-24 bg-[#050505]">
        <div class="max-w-7xl mx-auto px-6">
            <div class="text-center mb-20">
                <h2 class="text-5xl font-bold mb-4">L·ªô Tr√¨nh Ph√°t Tri·ªÉn <span class="gold-text">2026</span></h2>
                <p class="text-gray-500">T·ª´ Vi·ªát Nam v∆∞∆°n t·∫ßm th·∫ø gi·ªõi</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
                <!-- Q1 -->
                <div class="roadmap-card p-6 rounded-2xl border-t-4 border-t-yellow-500">
                    <span class="text-yellow-500 font-bold">Q1 2026</span>
                    <h4 class="text-xl font-bold mt-2 mb-4">Mainnet 2.0</h4>
                    <ul class="text-gray-500 text-sm space-y-2">
                        <li>‚Ä¢ Tri·ªÉn khai layer-2 ri√™ng cho $U</li>
                        <li>‚Ä¢ T√≠ch h·ª£p v√≠ Smart Account</li>
                        <li>‚Ä¢ Airdrop $HD Round 1</li>
                    </ul>
                </div>
                <!-- Q2 -->
                <div class="roadmap-card p-6 rounded-2xl">
                    <span class="text-gray-500 font-bold">Q2 2026</span>
                    <h4 class="text-xl font-bold mt-2 mb-4">AI Agent Hub</h4>
                    <ul class="text-gray-500 text-sm space-y-2">
                        <li>‚Ä¢ Marketplace cho c√°c bot AI</li>
                        <li>‚Ä¢ SDK cho nh√† ph√°t tri·ªÉn VN</li>
                        <li>‚Ä¢ Listing s√†n CEX Tier 1</li>
                    </ul>
                </div>
                <!-- Q3 -->
                <div class="roadmap-card p-6 rounded-2xl">
                    <span class="text-gray-500 font-bold">Q3 2026</span>
                    <h4 class="text-xl font-bold mt-2 mb-4">Global Expansion</h4>
                    <ul class="text-gray-500 text-sm space-y-2">
                        <li>‚Ä¢ M·ªü r·ªông th·ªã tr∆∞·ªùng ƒê√¥ng Nam √Å</li>
                        <li>‚Ä¢ Ph√°p l√Ω Stablecoin t·∫°i EU</li>
                        <li>‚Ä¢ Ra m·∫Øt th·∫ª Visa $U</li>
                    </ul>
                </div>
                <!-- Q4 -->
                <div class="roadmap-card p-6 rounded-2xl">
                    <span class="text-gray-500 font-bold">Q4 2026</span>
                    <h4 class="text-xl font-bold mt-2 mb-4">Decentralized AI</h4>
                    <ul class="text-gray-500 text-sm space-y-2">
                        <li>‚Ä¢ Ch·∫°y Node AI phi t·∫≠p trung</li>
                        <li>‚Ä¢ Qu·∫£n tr·ªã DAO ho√†n to√†n</li>
                        <li>‚Ä¢ Quy ƒë·ªïi $HD sang Token qu·∫£n tr·ªã</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- FOOTER -->
    <footer class="py-10 border-t border-white/10 text-center text-gray-500 text-sm">
        <p>¬© 2025 United Stables Vietnam. Developed with ‚ù§Ô∏è for the Community.</p>
    </footer>

    <!-- AI CHAT INTERFACE -->
    <div id="ai-assistant">
        <div class="p-4 border-b border-white/10 flex justify-between items-center bg-white/5">
            <span class="font-bold text-yellow-500">U-AI Assistant</span>
            <button onclick="toggleAI()">‚úï</button>
        </div>
        <div id="ai-messages" class="flex-1 overflow-y-auto p-4 space-y-4 text-sm">
            <div class="bg-white/10 p-3 rounded-lg max-w-[80%]">Xin ch√†o! T√¥i l√† tr·ª£ l√Ω AI c·ªßa United Stables. T√¥i c√≥ th·ªÉ gi√∫p g√¨ cho b·∫°n v·ªÅ d·ª± √°n n√†y?</div>
        </div>
        <div class="p-4 border-t border-white/10 flex gap-2">
            <input id="ai-input" type="text" placeholder="H·ªèi g√¨ ƒë√≥..." class="flex-1 bg-white/5 border border-white/10 rounded-lg px-3 py-2 outline-none focus:border-yellow-500">
            <button onclick="sendAI()" class="bg-yellow-500 text-black px-4 py-2 rounded-lg font-bold">G·ª≠i</button>
        </div>
    </div>

    <!-- OMNIPOTENT ADMIN PANEL -->
    <div id="admin-panel">
        <div class="max-w-6xl mx-auto h-full flex flex-col">
            <div class="flex justify-between items-center mb-8">
                <h2 class="text-3xl font-bold gold-text">H·ªÜ TH·ªêNG QU·∫¢N TR·ªä T·ªêI CAO</h2>
                <button onclick="closeAdmin()" class="bg-red-500 text-white px-6 py-2 rounded-full font-bold">ƒê√ìNG B·∫¢NG ƒêI·ªÄU KHI·ªÇN</button>
            </div>
            
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 flex-1 overflow-hidden">
                <!-- C·∫•u h√¨nh n·ªôi dung -->
                <div class="bg-white/5 p-6 rounded-2xl overflow-y-auto">
                    <h3 class="font-bold text-yellow-500 mb-4 border-b border-yellow-500/20 pb-2">üõ† THAY ƒê·ªîI GIAO DI·ªÜN</h3>
                    <div class="space-y-4">
                        <div>
                            <label class="text-xs text-gray-400">Ti√™u ƒë·ªÅ Hero</label>
                            <input id="adm-hero-title" class="w-full bg-black border border-white/20 p-2 rounded mt-1">
                        </div>
                        <div>
                            <label class="text-xs text-gray-400">M√¥ t·∫£ Hero</label>
                            <textarea id="adm-hero-sub" class="w-full bg-black border border-white/20 p-2 rounded mt-1 h-20"></textarea>
                        </div>
                        <button onclick="updateCMS()" class="w-full bg-yellow-600 py-3 rounded-xl font-bold">C·∫¨P NH·∫¨T TRANG WEB</button>
                    </div>
                </div>

                <!-- Theo d√µi User -->
                <div class="bg-white/5 p-6 rounded-2xl overflow-y-auto">
                    <h3 class="font-bold text-blue-500 mb-4 border-b border-blue-500/20 pb-2">üë• QU·∫¢N L√ù NG∆Ø·ªúI D√ôNG</h3>
                    <div id="adm-user-list" class="space-y-3">
                        <!-- Users will be injected here -->
                    </div>
                </div>

                <!-- Ho·∫°t ƒë·ªông th·ªùi gian th·ª±c -->
                <div class="bg-white/5 p-6 rounded-2xl overflow-y-auto">
                    <h3 class="font-bold text-green-500 mb-4 border-b border-green-500/20 pb-2">üëÅÔ∏è QUAN S√ÅT H√ÄNH VI (LIVE)</h3>
                    <div id="adm-logs" class="space-y-2 text-[10px] font-mono">
                        <!-- Real-time logs -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ADMIN TRIGGER (Ch·ªâ hi·ªán cho admin) -->
    <button id="admin-trigger" class="fixed bottom-5 left-5 w-12 h-12 bg-red-600 rounded-full hidden z-[1000] flex items-center justify-center shadow-xl">
        ‚ö°
    </button>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getAuth, signInWithPopup, GoogleAuthProvider, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
        import { getFirestore, doc, onSnapshot, setDoc, updateDoc, collection, addDoc, getDocs, query, orderBy, limit, increment } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        // C·∫•u h√¨nh Firebase (Thay b·∫±ng config c·ªßa b·∫°n)
        const firebaseConfig = {
            apiKey: "AIzaSyCLCcgaoW9gNYhKk0c0gDWC6i5mKVTN4XE",
            authDomain: "profile-d1214.firebaseapp.com",
            projectId: "profile-d1214",
            storageBucket: "profile-d1214.firebasestorage.app",
            messagingSenderId: "914980131889",
            appId: "1:914980131889:web:72f8da15c42dbee671b110"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        const provider = new GoogleAuthProvider();

        const ADMIN_UID = "VYIs9XHLR9RMStwtcdwMrOIo33w1"; // UID Admin c·ªßa b·∫°n
        let currentUser = null;

        // --- H·ªÜ TH·ªêNG ƒêI·ªÇM $HD & THEO D√ïI ---
        async function trackAction(actionName) {
            if (!currentUser) return alert("Vui l√≤ng ƒëƒÉng nh·∫≠p ƒë·ªÉ th·ª±c hi·ªán v√† nh·∫≠n $HD!");
            
            // TƒÉng ƒëi·ªÉm $HD trong Firestore
            const userRef = doc(db, "users", currentUser.uid);
            await updateDoc(userRef, {
                hdPoints: increment(10),
                lastAction: actionName,
                lastSeen: new Date()
            });

            // Ghi log v√†o h·ªá th·ªëng quan s√°t c·ªßa Admin
            await addDoc(collection(db, "activity_logs"), {
                uid: currentUser.uid,
                name: currentUser.displayName,
                action: actionName,
                time: new Date()
            });
            
            if(actionName === 'Click Mint') alert("B·∫°n nh·∫≠n ƒë∆∞·ª£c 10 $HD points!");
        }
        window.trackAction = trackAction;

        // --- AUTH ---
        onAuthStateChanged(auth, async (user) => {
            if (user) {
                currentUser = user;
                document.getElementById('login-btn').classList.add('hidden');
                document.getElementById('user-profile').classList.remove('hidden');
                document.getElementById('user-photo').src = user.photoURL;
                document.getElementById('user-name').innerText = user.displayName;

                // Kh·ªüi t·∫°o/C·∫≠p nh·∫≠t User trong DB
                const userRef = doc(db, "users", user.uid);
                await setDoc(userRef, {
                    name: user.displayName,
                    email: user.email,
                    photo: user.photoURL,
                    uid: user.uid
                }, { merge: true });

                // L·∫Øng nghe ƒëi·ªÉm s·ªë th·ªùi gian th·ª±c
                onSnapshot(userRef, (doc) => {
                    if(doc.exists()) document.getElementById('user-hd-points').innerText = doc.data().hdPoints || 0;
                });

                if (user.uid === ADMIN_UID) {
                    document.getElementById('admin-trigger').style.display = 'flex';
                    initAdminPanel();
                }
                
                trackAction("Truy c·∫≠p trang web");
            } else {
                currentUser = null;
                document.getElementById('login-btn').classList.remove('hidden');
                document.getElementById('user-profile').classList.add('hidden');
                document.getElementById('admin-trigger').style.display = 'none';
            }
        });

        document.getElementById('login-btn').onclick = () => signInWithPopup(auth, provider);
        document.getElementById('logout-btn').onclick = () => signOut(auth);

        // --- AI ASSISTANT LOGIC ---
        window.toggleAI = () => {
            const box = document.getElementById('ai-assistant');
            box.style.display = box.style.display === 'flex' ? 'none' : 'flex';
        };

        window.sendAI = async () => {
            const input = document.getElementById('ai-input');
            const msgArea = document.getElementById('ai-messages');
            if(!input.value) return;

            msgArea.innerHTML += `<div class="bg-yellow-500/20 p-3 rounded-lg self-end ml-auto max-w-[80%]">${input.value}</div>`;
            
            // Gi·∫£ l·∫≠p API AI (C√≥ th·ªÉ k·∫øt n·ªëi OpenAI/Gemini t·∫°i ƒë√¢y)
            setTimeout(() => {
                msgArea.innerHTML += `<div class="bg-white/10 p-3 rounded-lg max-w-[80%] italic">H·ªá th·ªëng AI ƒëang ph√¢n t√≠ch d·ªØ li·ªáu th·ªã tr∆∞·ªùng cho c√¢u h·ªèi: "${input.value}"...</div>`;
                msgArea.scrollTop = msgArea.scrollHeight;
            }, 600);
            
            input.value = "";
            trackAction("S·ª≠ d·ª•ng AI Assistant");
        };

        // --- ADMIN SYSTEM ---
        document.getElementById('admin-trigger').onclick = () => {
            document.getElementById('admin-panel').style.display = 'block';
        };
        window.closeAdmin = () => document.getElementById('admin-panel').style.display = 'none';

        async function initAdminPanel() {
            // L·∫Øng nghe danh s√°ch User
            onSnapshot(collection(db, "users"), (snap) => {
                const list = document.getElementById('adm-user-list');
                list.innerHTML = "";
                snap.forEach(doc => {
                    const u = doc.data();
                    list.innerHTML += `
                        <div class="p-3 bg-white/10 rounded-lg flex items-center justify-between border border-white/5">
                            <div class="flex items-center gap-2">
                                <img src="${u.photo}" class="w-6 h-6 rounded-full">
                                <div class="text-[10px]">
                                    <p class="font-bold">${u.name}</p>
                                    <p class="text-gray-500">${u.hdPoints || 0} $HD</p>
                                </div>
                            </div>
                            <span class="text-[8px] bg-green-500/20 text-green-500 px-2 rounded">${u.lastAction || 'Active'}</span>
                        </div>
                    `;
                });
            });

            // L·∫Øng nghe Ho·∫°t ƒë·ªông th·ªùi gian th·ª±c (Live Observation)
            const logQuery = query(collection(db, "activity_logs"), orderBy("time", "desc"), limit(20));
            onSnapshot(logQuery, (snap) => {
                const logDiv = document.getElementById('adm-logs');
                logDiv.innerHTML = "";
                snap.forEach(doc => {
                    const l = doc.data();
                    const time = l.time?.toDate().toLocaleTimeString();
                    logDiv.innerHTML += `
                        <div class="user-log-item p-2 mb-1">
                            <span class="text-yellow-500">[${time}]</span> 
                            <span class="text-blue-400">${l.name}</span>: 
                            <span class="text-white">${l.action}</span>
                        </div>
                    `;
                });
            });

            // L·∫•y d·ªØ li·ªáu CMS hi·ªán t·∫°i
            onSnapshot(doc(db, "settings", "content"), (snap) => {
                if(snap.exists()) {
                    const data = snap.data();
                    document.getElementById('cms-hero-title').innerHTML = data.heroTitle;
                    document.getElementById('cms-hero-subtitle').innerText = data.heroSubtitle;
                    document.getElementById('adm-hero-title').value = data.heroTitle;
                    document.getElementById('adm-hero-sub').value = data.heroSubtitle;
                }
            });
        }

        window.updateCMS = async () => {
            await setDoc(doc(db, "settings", "content"), {
                heroTitle: document.getElementById('adm-hero-title').value,
                heroSubtitle: document.getElementById('adm-hero-sub').value
            }, { merge: true });
            alert("ƒê√£ c·∫≠p nh·∫≠t giao di·ªán to√†n trang!");
        };

        // Scroll Reveal Animation
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if(entry.isIntersecting) {
                    entry.target.classList.add('opacity-100');
                    entry.target.classList.add('translate-y-0');
                }
            });
        }, { threshold: 0.1 });
        
        document.querySelectorAll('.roadmap-card').forEach(el => {
            el.classList.add('opacity-0', 'translate-y-10', 'transition', 'duration-700');
            observer.observe(el);
        });

    </script>
</body>
</html>
