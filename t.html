<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bmass Profiles</title>

    <!-- Meta SEO, Libraries, Fonts -->
    <meta name="description" content="Trang cá nhân Web3 được tạo bởi Bmass.">
    <link rel="icon" href="https://bmass.vercel.app/img/bmasslogo.png" type="image/png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<style>
    :root {
        --accent-primary: #915EFF;
        --accent-secondary: #2BCBC4;
        --text-primary: #212529;
        --text-secondary: #6c757d;
        --color-verified: #007bff;
        --card-bg: rgba(255, 255, 255, 0.1);
        --transition-smooth: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
        --shadow-light: 0 4px 15px rgba(0,0,0,0.07);
        --shadow-strong: 0 8px 32px 0 rgba(0, 0, 0, 0.1);
    }

    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    @keyframes fadeInUp { from { opacity: 0; transform: translateY(25px); } to { opacity: 1; transform: translateY(0); } }

    body {
        font-family: 'Poppins', sans-serif;
        color: var(--text-primary);
        transition: background-color 0.3s;
        overflow: hidden;
        margin: 0;
    }
    
    #particles-js {
        position: fixed;
        width: 100%;
        height: 100%;
        z-index: -1;
        background-color: #000000;
        background-image: linear-gradient(45deg, #000000 0%, #1a0a24 100%);
    }

    .main-container { padding: 2rem 1rem; margin: auto; height: 100vh; overflow-y: auto; }
    .view { display: none; animation: fadeIn 0.6s; }
   
    .card-glass {
        position: relative; background: var(--card-bg); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 25px; padding: 2rem; box-shadow: var(--shadow-strong); color: #fff;
    }
    .profile-avatar { width: 150px; height: 150px; border-radius: 50%; object-fit: cover; border: 5px solid white; box-shadow: 0 0 20px rgba(0,0,0,0.15); margin-top: -95px; }
    .profile-name-wrapper { display: flex; align-items: center; justify-content: center; gap: 10px; }
    .profile-name { font-size: 2rem; font-weight: 700; margin-bottom: 0; }
    .verified-tick { color: var(--color-verified); font-size: 1.6rem; background: white; border-radius: 50%; padding: 2px; box-shadow: 0 2px 5px rgba(0,123,255,0.3); }
    .social-links { display: flex; justify-content: center; flex-wrap: wrap; gap: 1rem; margin-top: 1.5rem; }
    .social-link { font-size: 1.5rem; color: #fff; transition: var(--transition-smooth); width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; border-radius: 50%; background-color: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); text-decoration: none; }
    .social-link:hover { transform: translateY(-5px); color: white; background: linear-gradient(45deg, var(--accent-primary), var(--accent-secondary)); box-shadow: 0 4px 15px rgba(145, 94, 255, 0.4); }
    .project-card { display: flex; align-items: center; text-decoration: none; color: var(--text-primary); background: rgba(255, 255, 255, 0.9); padding: 1rem; border-radius: 15px; border: 1px solid #dee2e6; transition: var(--transition-smooth); box-shadow: var(--shadow-light); }
    .project-card:hover { transform: translateY(-5px) scale(1.02); box-shadow: 0 8px 25px rgba(145, 94, 255, 0.15); border-color: var(--accent-primary); }
    .project-icon { width: 64px; height: 64px; border-radius: 12px; object-fit: cover; margin-right: 1rem; flex-shrink: 0; }
    
    .project-card-content {
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        align-items: flex-start;
        flex-grow: 1;
        min-height: 64px;
    }
    
    .category-tabs-container { padding: 1rem 0; margin-top: 2rem; position: relative; }
    .category-tabs { display: flex; align-items: center; border-bottom: 1px solid rgba(255, 255, 255, 0.2); position: relative; flex-wrap: nowrap; overflow-x: auto; justify-content: flex-start; -ms-overflow-style: none; scrollbar-width: none; }
    .category-tabs::-webkit-scrollbar { display: none; }

    .category-tab { padding: 10px 20px; cursor: pointer; background: none; border: none; color: rgba(255, 255, 255, 0.7); font-weight: 500; font-size: 1rem; transition: color 0.3s ease; display: flex; align-items: center; gap: 8px; flex-shrink: 0; }
    .category-tab.active, .category-tab:hover { color: #fff; }
   
    .tab-underline { position: absolute; bottom: -1px; left: 0; height: 3px; background: linear-gradient(45deg, var(--accent-primary), var(--accent-secondary)); border-radius: 3px; transition: transform 0.4s cubic-bezier(0.25, 0.8, 0.25, 1), width 0.4s cubic-bezier(0.25, 0.8, 0.25, 1); }
    .category-content-container { padding-top: 1.5rem; }
    .category-content { display: none; animation: fadeInUp 0.5s; }
    .category-content.active { display: block; }

    .footer-section { padding: 2rem 1rem; color: rgba(255, 255, 255, 0.7); font-size: 0.9rem; margin-top: 2rem; }
    .spinner-border { color: var(--accent-primary); }
</style>
<body>
    <div id="particles-js"></div>

    <main class="main-container" id="app-container">
        
        <!-- Loading View -->
        <div class="view text-center" id="view-loading" style="display: flex; justify-content: center; align-items: center; height: 100vh;">
            <div class="spinner-border" style="width: 3rem; height: 3rem; color: white;"></div>
        </div>

        <!-- Profile View -->
        <div class="view" id="view-profile">
            <div class="row justify-content-center">
                <div class="col-12 col-md-10 col-lg-8" id="profile-page-content">
                    <!-- Nội dung profile sẽ được chèn vào đây bởi JavaScript -->
                </div>
            </div>
        </div>

    </main>

    <footer class="text-center footer-section">
        <p class="mb-0">© <span id="footer-year"></span> Bmass Profiles. All Rights Reserved.</p>
    </footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
<script>
document.addEventListener('DOMContentLoaded', () => {

    // --- START: ADMIN EDIT AREA ---
    // Để chỉnh sửa trang, hãy thay đổi nội dung trong đối tượng `profileData` này.
    const profileData = {
        name: "Bmass",
        avatarUrl: "https://bmass.vercel.app/img/bmasslogo.png",
        bio: "Chào mừng đến với trang cá nhân của tôi! Đây là nơi tôi chia sẻ các dự án, liên kết và thông tin hữu ích về thế giới Web3 và Crypto.",
        isVerified: true,
        socials: {
            github: "https://github.com/your-username",
            x: "https://twitter.com/your-username",
            tele: "https://t.me/your-username",
            youtube: "https://youtube.com/your-channel",
            zalo: "https://zalo.me/your-phone",
            gmail: "mailto:your-email@example.com",
            website: "https://your-website.com"
        },
        // Danh mục tùy chỉnh (nếu có)
        customCategories: {
            "kien-thuc": "Kiến thức",
            "cong-cu": "Công cụ"
        },
        // Danh sách các dự án/liên kết
        projects: [
            {
                name: "Dự án A",
                description: "Mô tả ngắn gọn về dự án A.",
                link: "https://example.com/project-a",
                imageUrl: "https://images.unsplash.com/photo-1519389950473-47ba0277781c?&auto=format&fit=crop&w=128&q=80",
                category: "project" // 'project', 'exchange', 'airdrop' hoặc key từ customCategories
            },
            {
                name: "Sàn giao dịch Binance",
                description: "Sàn giao dịch tiền điện tử lớn nhất thế giới.",
                link: "https://www.binance.com/",
                imageUrl: "https://public.bnbstatic.com/20190405/eb2349c3-b226-4403-9e73-479047d8f2b7.png",
                category: "exchange"
            },
            {
                name: "Sự kiện Airdrop B",
                description: "Tham gia để nhận token miễn phí.",
                link: "https://example.com/airdrop-b",
                imageUrl: "https://images.unsplash.com/photo-1552664730-d307ca884978?&auto=format&fit=crop&w=128&q=80",
                category: "airdrop"
            },
            {
                name: "Bài viết về Layer 2",
                description: "Giải thích chi tiết về công nghệ Layer 2.",
                link: "https://example.com/layer-2-article",
                imageUrl: "https://images.unsplash.com/photo-1499951360447-b19be8fe80f5?&auto=format&fit=crop&w=128&q=80",
                category: "kien-thuc"
            },
            {
                name: "Công cụ Check Wallet",
                description: "Kiểm tra thông tin ví crypto an toàn.",
                link: "https://example.com/wallet-checker",
                imageUrl: "https://images.unsplash.com/photo-1556761175-b413da4b248d?&auto=format&fit=crop&w=128&q=80",
                category: "cong-cu"
            }
        ]
    };
    // --- END: ADMIN EDIT AREA ---


    // Cấu hình hiệu ứng nền
    particlesJS("particles-js", {
        "particles": { "number": { "value": 80, "density": { "enable": true, "value_area": 800 } }, "color": { "value": "#ffffff" }, "shape": { "type": "circle", }, "opacity": { "value": 0.5, "random": false, }, "size": { "value": 3, "random": true, }, "line_linked": { "enable": true, "distance": 150, "color": "#ffffff", "opacity": 0.4, "width": 1 }, "move": { "enable": true, "speed": 6, "direction": "none", "out_mode": "out", } },
        "interactivity": { "detect_on": "canvas", "events": { "onhover": { "enable": true, "mode": "repulse" }, "onclick": { "enable": true, "mode": "push" }, "resize": true }, "modes": { "repulse": { "distance": 200, "duration": 0.4 }, "push": { "particles_nb": 4 }, } },
        "retina_detect": true
    });

    const views = { 
        loading: document.getElementById('view-loading'), 
        profile: document.getElementById('view-profile')
    };
    const profilePageContent = document.getElementById('profile-page-content');

    const socialIcons = { 
        github: 'fa-brands fa-github', x: 'fa-brands fa-xing', ig: 'fa-brands fa-instagram', 
        tele: 'fa-brands fa-telegram', tiktok: 'fa-brands fa-tiktok', youtube: 'fa-brands fa-youtube',
        discord: 'fa-brands fa-discord', zalo: 'fa-solid fa-comment-dots', gmail: 'fa-solid fa-envelope',
        channel: 'fa-solid fa-satellite-dish', website: 'fa-solid fa-globe' 
    };

    const defaultCategories = {
        project: 'Dự án',
        exchange: 'Exchange',
        airdrop: 'Airdrop'
    };

    const randomProjectImages = [
        'https://images.unsplash.com/photo-1519389950473-47ba0277781c?&auto=format&fit=crop&w=128&q=80',
        'https://images.unsplash.com/photo-1556761175-b413da4b248d?&auto=format&fit=crop&w=128&q=80',
        'https://images.unsplash.com/photo-1521737604893-d14cc237f11d?&auto=format&fit=crop&w=128&q=80',
        'https://images.unsplash.com/photo-1552664730-d307ca884978?&auto=format&fit=crop&w=128&q=80'
    ];

    function getRandomProjectImage() {
        const randomIndex = Math.floor(Math.random() * randomProjectImages.length);
        return randomProjectImages[randomIndex];
    }
    
    function switchView(viewName) {
        Object.values(views).forEach(view => view.style.display = 'none');
        if (views[viewName]) {
            views[viewName].style.display = 'block';
        }
    }

    function getCategoryDisplayName(key, customCategories = {}) {
        return defaultCategories[key] || customCategories[key] || key;
    }

    function renderProfile(data) {
        // --- 1. Render thông tin cá nhân ---
        let socialLinksHTML = '';
        for (const [key, url] of Object.entries(data.socials || {})) {
            if (url && socialIcons[key]) {
                const href = key === 'gmail' ? url : url; // mailto đã có sẵn
                socialLinksHTML += `<a href="${href}" target="_blank" rel="noopener noreferrer" class="social-link" title="${key}"><i class="${socialIcons[key]}"></i></a>`;
            }
        }
        const profileInfoHTML = `
            <div class="card-glass text-center" style="padding-top: 80px;">
                <img src="${data.avatarUrl || 'https://via.placeholder.com/150'}" class="profile-avatar">
                <div class="profile-name-wrapper mt-3">
                    <h1 class="profile-name">${data.name}</h1>
                    ${data.isVerified ? '<i class="fas fa-check-circle verified-tick" title="Đã xác thực"></i>' : ''}
                </div>
                <p class="text-secondary col-md-10 mx-auto mt-2" style="color: rgba(255, 255, 255, 0.7) !important;">${data.bio}</p>
                <div class="social-links">${socialLinksHTML}</div>
            </div>`;
        
        // --- 2. Render các dự án và danh mục ---
        const customCategories = data.customCategories || {}; 
        const allCategoryKeys = [...new Set([...Object.keys(defaultCategories), ...Object.keys(customCategories)])];
        const allProjects = data.projects || [];
        
        let tabsHTML = '';
        let contentHTML = '';

        // Lọc ra các danh mục có dự án
        const categoriesWithProjects = allCategoryKeys.filter(key => 
            allProjects.some(p => (p.category || 'project') === key)
        );

        categoriesWithProjects.forEach(key => {
            const displayName = getCategoryDisplayName(key, customCategories);
            tabsHTML += `<button class="category-tab" data-category="${key}"><span>${displayName}</span></button>`;
            
            const projectsInCategory = allProjects.filter(p => (p.category || 'project') === key);
            let itemsHTML = projectsInCategory.map(p => `
                <div class="col-12 col-md-6 mb-3">
                    <a href="${p.link}" target="_blank" rel="noopener noreferrer" class="project-card h-100">
                        <img src="${p.imageUrl || getRandomProjectImage()}" class="project-icon" alt="${p.name}">
                        <div class="project-card-content">
                            <div class="text-start">
                                <h5>${p.name}</h5>
                                <p class="mb-0">${p.description || ''}</p>
                            </div>
                        </div>
                    </a>
                </div>`
            ).join('');
            contentHTML += `<div class="category-content" data-category="${key}"><div class="row g-3">${itemsHTML}</div></div>`;
        });
        
        const projectsContainerHTML = allProjects.length > 0 ? `
            <div class="category-tabs-container">
                <div class="category-tabs" id="category-tabs">
                    ${tabsHTML}
                    <div class="tab-underline" id="tab-underline"></div>
                </div>
                <div class="category-content-container" id="category-content-container">${contentHTML}</div>
            </div>` : '';

        profilePageContent.innerHTML = profileInfoHTML + projectsContainerHTML;
        
        // --- 3. Hiển thị trang và thiết lập tab ---
        switchView('profile');
        if (document.getElementById('category-tabs')) {
            setupCategoryTabs();
        }
    }

    function setupCategoryTabs() {
        const tabsContainer = document.getElementById('category-tabs');
        const underline = document.getElementById('tab-underline');
        const contentContainer = document.getElementById('category-content-container');
        const tabs = tabsContainer.querySelectorAll('.category-tab');
        const contents = contentContainer.querySelectorAll('.category-content');

        if (tabs.length === 0) return;

        function updateUnderline(activeTab) {
            if (!activeTab) return;
            requestAnimationFrame(() => {
                const offsetLeft = activeTab.offsetLeft;
                const offsetWidth = activeTab.offsetWidth;
                underline.style.transform = `translateX(${offsetLeft}px)`;
                underline.style.width = `${offsetWidth}px`;
            });
        }
        
        function switchTab(targetTab) {
            const category = targetTab.dataset.category;
            tabs.forEach(t => t.classList.remove('active'));
            contents.forEach(c => c.classList.remove('active'));
            targetTab.classList.add('active');
            const activeContent = contentContainer.querySelector(`.category-content[data-category="${category}"]`);
            if (activeContent) activeContent.classList.add('active');
            updateUnderline(targetTab);
        }

        tabsContainer.addEventListener('click', (e) => {
            const targetTab = e.target.closest('.category-tab');
            if (targetTab) {
                switchTab(targetTab);
            }
        });
        
        if (tabs[0]) switchTab(tabs[0]); 
    }

    function main() {
        // Render profile với dữ liệu tĩnh
        renderProfile(profileData);
        document.getElementById('footer-year').textContent = new Date().getFullYear();
    }

    main();
});
</script>
</body>
</html>
