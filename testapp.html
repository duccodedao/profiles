<!DOCTYPE html>
<html lang="vi" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Premium Portfolio | Professional Identity</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;800&display=swap" rel="stylesheet">

    <style>
        :root {
            --primary: #6366f1;
            --accent: #a855f7;
            --bg-dark: #0f172a;
            --card-glass: rgba(255, 255, 255, 0.03);
        }

        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background: var(--bg-dark);
            color: #f8fafc;
            overflow-x: hidden;
            cursor: none;
        }

        /* Custom Cursor */
        #cursor {
            width: 20px; height: 20px; border: 2px solid var(--primary);
            border-radius: 50%; position: fixed; pointer-events: none;
            z-index: 9999; transition: transform 0.1s ease;
        }

        /* Glassmorphism */
        .glass {
            background: rgba(15, 23, 42, 0.7);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
        }

        /* 3D Hover Effect */
        .card-3d {
            transition: all 0.5s cubic-bezier(0.23, 1, 0.32, 1);
            transform-style: preserve-3d;
        }
        .card-3d:hover {
            transform: translateY(-10px) rotateX(5deg) rotateY(5deg);
            box-shadow: 0 20px 40px rgba(0,0,0,0.4);
        }

        /* Gradient Text */
        .text-gradient {
            background: linear-gradient(to right, #818cf8, #c084fc);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 5px; }
        ::-webkit-scrollbar-track { background: #0f172a; }
        ::-webkit-scrollbar-thumb { background: var(--primary); border-radius: 10px; }

        /* Sidebar Style */
        .sidebar {
            width: 280px; height: 100vh; position: fixed; left: 0; top: 0;
            z-index: 50; transition: all 0.5s ease;
        }

        @media (max-width: 768px) {
            .sidebar { transform: translateX(-100%); }
            .sidebar.active { transform: translateX(0); }
            main { margin-left: 0 !important; }
        }

        /* Loading Screen */
        #loader {
            position: fixed; inset: 0; background: #0f172a;
            display: flex; justify-content: center; align-items: center; z-index: 10000;
        }
    </style>
</head>
<body class="bg-[#0f172a]">

    <div id="cursor"></div>

    <div id="loader">
        <div class="animate-pulse flex flex-col items-center">
            <div class="w-16 h-16 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"></div>
            <p class="mt-4 text-indigo-400 font-semibold uppercase tracking-widest">Loading Experience</p>
        </div>
    </div>

    <div id="app" v-cloak>
        <aside :class="['sidebar glass m-4 transition-all duration-500', isSidebarOpen ? 'active' : '']">
            <div class="p-6 flex flex-col h-full">
                <div class="text-center mb-8" data-aos="fade-down">
                    <div class="relative inline-block group">
                        <img :src="profile.avatar || 'https://via.placeholder.com/150'" class="w-24 h-24 rounded-2xl mx-auto border-2 border-indigo-500 p-1 group-hover:scale-110 transition-transform">
                        <div class="absolute inset-0 bg-indigo-500 rounded-2xl opacity-0 group-hover:opacity-20 blur-md transition-opacity"></div>
                    </div>
                    <h2 class="mt-4 font-bold text-xl">{{ profile.name }}</h2>
                    <p class="text-xs text-indigo-400 font-mono tracking-tighter">{{ profile.nickname }}</p>
                </div>

                <nav class="flex-1 space-y-2">
                    <a v-for="item in menuItems" :href="item.link" class="flex items-center p-3 rounded-xl hover:bg-white/5 transition-all text-gray-400 hover:text-white group">
                        <i :class="[item.icon, 'mr-3 text-lg group-hover:text-indigo-400']"></i>
                        <span class="font-medium">{{ item.title }}</span>
                    </a>
                </nav>

                <div class="pt-6 border-t border-white/10 space-y-4">
                    <button @click="toggleDarkMode" class="w-full flex justify-between items-center p-3 rounded-xl bg-white/5">
                        <span>{{ darkMode ? 'Light' : 'Dark' }} Mode</span>
                        <i :class="darkMode ? 'fa-sun' : 'fa-moon'" class="fas"></i>
                    </button>
                    
                    <button v-if="!user" @click="login" class="w-full bg-indigo-600 hover:bg-indigo-500 py-3 rounded-xl font-bold transition-all shadow-lg shadow-indigo-500/20">
                        <i class="fas fa-sign-in-alt mr-2"></i> Đăng nhập
                    </button>

                    <div v-else class="space-y-2">
                        <button v-if="isAdmin" @click="showAdmin = true" class="w-full border border-indigo-500 text-indigo-500 hover:bg-indigo-500 hover:text-white py-2 rounded-xl text-sm transition-all">
                            Admin Panel
                        </button>
                        <button @click="logout" class="w-full text-gray-500 text-xs hover:text-red-400 transition-colors">Đăng xuất</button>
                    </div>
                </div>
            </div>
        </aside>

        <main class="ml-[300px] p-8 max-w-7xl">
            
            <section id="home" class="min-h-[80vh] flex flex-col justify-center relative">
                <div data-aos="fade-up">
                    <span class="px-4 py-2 bg-indigo-500/10 text-indigo-400 rounded-full text-sm font-semibold mb-6 inline-block">Sẵn sàng hợp tác</span>
                    <h1 class="text-6xl md:text-8xl font-extrabold mb-6 leading-tight">
                        Kiến tạo <span class="text-gradient">Tương lai</span> <br> Bằng Code.
                    </h1>
                    <p class="text-gray-400 text-xl max-w-2xl leading-relaxed mb-8">
                        {{ profile.shortBio }}
                    </p>
                    <div class="flex gap-4">
                        <button class="bg-indigo-600 px-8 py-4 rounded-2xl font-bold hover:shadow-[0_0_30px_rgba(99,102,241,0.5)] transition-all">Xem dự án</button>
                        <button class="glass px-8 py-4 rounded-2xl font-bold border border-white/10 hover:bg-white/10 transition-all">Tải CV (PDF)</button>
                    </div>
                </div>
                
                <div class="absolute right-0 top-0 w-1/3 opacity-20 pointer-events-none">
                    <img src="https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png" class="animate-bounce-slow">
                </div>
            </section>

            <section id="skills" class="py-20">
                <h3 class="text-3xl font-bold mb-12 flex items-center">
                    <span class="w-10 h-1 bg-indigo-500 mr-4"></span> Kỹ năng chuyên môn
                </h3>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div v-for="skill in profile.skills" class="glass p-6 card-3d" data-aos="zoom-in">
                        <div class="flex justify-between mb-4">
                            <span class="font-bold uppercase tracking-wider">{{ skill.name }}</span>
                            <span class="text-indigo-400 font-mono">{{ skill.level }}%</span>
                        </div>
                        <div class="w-full bg-white/5 h-2 rounded-full overflow-hidden">
                            <div class="bg-indigo-500 h-full transition-all duration-1000" :style="{width: skill.level + '%'}"></div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="projects" class="py-20">
                <div class="flex justify-between items-end mb-12">
                    <h3 class="text-3xl font-bold">Dự án tiêu biểu</h3>
                    <div class="flex gap-4 text-sm">
                        <button class="text-indigo-400 font-bold border-b-2 border-indigo-500">Tất cả</button>
                        <button class="text-gray-500 hover:text-white transition-colors">Web App</button>
                        <button class="text-gray-500 hover:text-white transition-colors">Mobile</button>
                    </div>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div v-for="project in profile.projects" class="relative group rounded-3xl overflow-hidden glass h-80 card-3d" data-aos="fade-up">
                        <img :src="project.image" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-700">
                        <div class="absolute inset-0 bg-gradient-to-t from-slate-950 via-slate-950/40 to-transparent p-8 flex flex-col justify-end">
                            <h4 class="text-2xl font-bold mb-2">{{ project.title }}</h4>
                            <p class="text-gray-300 text-sm mb-4 line-clamp-2">{{ project.desc }}</p>
                            <div class="flex gap-4">
                                <a :href="project.link" class="text-indigo-400 hover:text-indigo-300 font-bold">Live Demo →</a>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="blog" class="py-20">
                <h3 class="text-3xl font-bold mb-12">Bài viết mới nhất</h3>
                <div class="space-y-6">
                    <div v-for="post in profile.blogs" class="glass p-8 flex flex-col md:flex-row gap-8 hover:bg-white/5 transition-all group" data-aos="fade-left">
                        <div class="text-indigo-400 font-mono text-sm shrink-0">
                            {{ post.date }}
                        </div>
                        <div>
                            <h4 class="text-xl font-bold mb-2 group-hover:text-indigo-400 transition-colors cursor-pointer">{{ post.title }}</h4>
                            <p class="text-gray-400 leading-relaxed">{{ post.excerpt }}</p>
                        </div>
                    </div>
                </div>
            </section>

        </main>

        <div v-if="showAdmin" class="fixed inset-0 z-[100] flex items-center justify-center p-4">
            <div class="absolute inset-0 bg-black/80 backdrop-blur-md" @click="showAdmin = false"></div>
            <div class="glass w-full max-w-4xl max-h-[90vh] overflow-y-auto p-8 relative z-10 animate__animated animate__zoomIn">
                <div class="flex justify-between items-center mb-8">
                    <h2 class="text-2xl font-bold">Hệ thống quản trị Profile</h2>
                    <button @click="saveData" class="bg-green-600 px-6 py-2 rounded-xl font-bold hover:bg-green-500 transition-all">Lưu thay đổi</button>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="space-y-4">
                        <label class="block">
                            <span class="text-gray-400 text-sm">Họ và tên</span>
                            <input v-model="profile.name" class="w-full bg-white/5 border border-white/10 rounded-xl p-3 mt-1 focus:ring-2 ring-indigo-500 outline-none">
                        </label>
                        <label class="block">
                            <span class="text-gray-400 text-sm">Biệt danh</span>
                            <input v-model="profile.nickname" class="w-full bg-white/5 border border-white/10 rounded-xl p-3 mt-1 focus:ring-2 ring-indigo-500 outline-none">
                        </label>
                        <label class="block">
                            <span class="text-gray-400 text-sm">Giới thiệu ngắn</span>
                            <textarea v-model="profile.shortBio" class="w-full bg-white/5 border border-white/10 rounded-xl p-3 mt-1 h-32 focus:ring-2 ring-indigo-500 outline-none"></textarea>
                        </label>
                    </div>
                    
                    <div class="space-y-4">
                        <h4 class="font-bold text-indigo-400">Kỹ năng</h4>
                        <div v-for="(s, index) in profile.skills" class="flex gap-2">
                            <input v-model="s.name" placeholder="Skill" class="bg-white/5 border border-white/10 rounded-lg p-2 flex-1">
                            <input v-model="s.level" type="number" class="bg-white/5 border border-white/10 rounded-lg p-2 w-20">
                            <button @click="profile.skills.splice(index, 1)" class="text-red-500 px-2">×</button>
                        </div>
                        <button @click="profile.skills.push({name:'', level: 80})" class="text-sm text-indigo-400 underline">+ Thêm kỹ năng</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="fixed bottom-8 right-8 z-50">
            <div v-if="aiOpen" class="glass w-80 h-96 mb-4 p-4 flex flex-col animate__animated animate__fadeInUp">
                <div class="font-bold border-b border-white/10 pb-2 mb-4">AI Assistant</div>
                <div class="flex-1 overflow-y-auto text-sm space-y-4">
                    <div class="bg-indigo-500/20 p-3 rounded-2xl rounded-tl-none italic">
                        Chào bạn! Mình có thể giúp gì để bạn hiểu hơn về {{ profile.name }}?
                    </div>
                </div>
                <input type="text" placeholder="Hỏi về kỹ năng..." class="mt-4 bg-white/5 border border-white/10 rounded-full px-4 py-2 outline-none focus:ring-1 ring-indigo-500">
            </div>
            <button @click="aiOpen = !aiOpen" class="w-14 h-14 bg-indigo-600 rounded-full flex items-center justify-center shadow-2xl hover:scale-110 transition-transform">
                <i class="fas fa-robot text-2xl"></i>
            </button>
        </div>
    </div>

    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

    <script>
        // 1. Firebase Config
        const firebaseConfig = {
            apiKey: "AIzaSyCLCcgaoW9gNYhKk0c0gDWC6i5mKVTN4XE",
            authDomain: "profile-d1214.firebaseapp.com",
            projectId: "profile-d1214",
            storageBucket: "profile-d1214.firebasestorage.app",
            messagingSenderId: "914980131889",
            appId: "1:914980131889:web:72f8da15c42dbee671b110",
            measurementId: "G-C587M69LZW"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
        const auth = firebase.auth();
        const ADMIN_UID = "VYIs9XHLR9RMStwtcdwMrOIo33w1";

        // 2. Vue Application
        const { createApp } = Vue;

        createApp({
            data() {
                return {
                    user: null,
                    isAdmin: false,
                    showAdmin: false,
                    aiOpen: false,
                    isSidebarOpen: true,
                    darkMode: true,
                    profile: {
                        name: "Fullstack Architect",
                        nickname: "@master_dev",
                        avatar: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&w=200&h=200&auto=format&fit=crop",
                        shortBio: "Tôi là kỹ sư giải pháp với hơn 8 năm kinh nghiệm xây dựng các hệ thống phân tán quy mô lớn. Đam mê thiết kế trải nghiệm người dùng tối giản và tinh tế.",
                        skills: [
                            {name: 'NodeJS', level: 95},
                            {name: 'Vue.js / React', level: 90},
                            {name: 'Cloud Architecture', level: 85}
                        ],
                        projects: [
                            {title: 'Cyber Dashboard 2026', desc: 'Hệ thống quản lý dữ liệu thời gian thực tích hợp AI.', image: 'https://images.unsplash.com/photo-1550751827-4bd374c3f58b?auto=format&fit=crop&q=80&w=800', link: '#'},
                            {title: 'Quantum Pay', desc: 'Ứng dụng thanh toán phi tập trung bảo mật cao.', image: 'https://images.unsplash.com/photo-1639762681485-074b7f938ba0?auto=format&fit=crop&q=80&w=800', link: '#'}
                        ],
                        blogs: [
                            {date: '20 Oct, 2025', title: 'Tương lai của Web3 và AI', excerpt: 'Khám phá sự giao thoa giữa trí tuệ nhân tạo và công nghệ chuỗi khối...'},
                            {date: '15 Sep, 2025', title: 'Tối ưu hiệu năng 60fps', excerpt: 'Làm thế nào để đạt được trải nghiệm mượt mà nhất trên trình duyệt di động...'}
                        ]
                    },
                    menuItems: [
                        {title: 'Khởi đầu', icon: 'fas fa-home', link: '#home'},
                        {title: 'Năng lực', icon: 'fas fa-bolt', link: '#skills'},
                        {title: 'Sản phẩm', icon: 'fas fa-code', link: '#projects'},
                        {title: 'Blog', icon: 'fas fa-feather', link: '#blog'},
                        {title: 'Liên hệ', icon: 'fas fa-envelope', link: '#contact'}
                    ]
                }
            },
            mounted() {
                this.initApp();
                this.loadProfile();
                this.setupCursor();
                window.addEventListener('scroll', this.handleScroll);
            },
            methods: {
                initApp() {
                    AOS.init({ duration: 1000, once: true });
                    auth.onAuthStateChanged(user => {
                        this.user = user;
                        this.isAdmin = user && user.uid === ADMIN_UID;
                        document.getElementById('loader').style.display = 'none';
                    });
                },
                async loadProfile() {
                    const doc = await db.collection('profile_data').doc('main').get();
                    if (doc.exists) {
                        this.profile = { ...this.profile, ...doc.data() };
                    }
                },
                async saveData() {
                    if (!this.isAdmin) return alert("Từ chối truy cập!");
                    try {
                        await db.collection('profile_data').doc('main').set(this.profile);
                        alert("Đã cập nhật Profile thành công!");
                        this.showAdmin = false;
                    } catch (e) {
                        console.error(e);
                        alert("Lỗi khi lưu dữ liệu!");
                    }
                },
                async login() {
                    const provider = new firebase.auth.GoogleAuthProvider();
                    await auth.signInWithPopup(provider);
                },
                logout() {
                    auth.signOut();
                    this.isAdmin = false;
                },
                setupCursor() {
                    const cursor = document.getElementById('cursor');
                    window.addEventListener('mousemove', e => {
                        cursor.style.left = e.clientX + 'px';
                        cursor.style.top = e.clientY + 'px';
                    });
                    document.querySelectorAll('a, button').forEach(el => {
                        el.addEventListener('mouseenter', () => cursor.style.transform = 'scale(3)');
                        el.addEventListener('mouseleave', () => cursor.style.transform = 'scale(1)');
                    });
                }
            }
        }).mount('#app');
    </script>
</body>
</html>
